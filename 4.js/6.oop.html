<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6.oop | Yankyao</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/index/favicon.ico">
    <script>(function() {
            const theme = localStorage.getItem('theme');
            if(theme) {
              document.documentElement.classList.add(theme);
            }
        })()</script>
    <meta name="description" content="个人主页">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="preload" href="/index/assets/css/0.styles.8e715b3c.css" as="style"><link rel="preload" href="/index/assets/js/app.616a5d86.js" as="script"><link rel="preload" href="/index/assets/js/3.1c123f76.js" as="script"><link rel="preload" href="/index/assets/js/6.63039d09.js" as="script"><link rel="prefetch" href="/index/assets/js/10.f946ddfb.js"><link rel="prefetch" href="/index/assets/js/11.7ca028bd.js"><link rel="prefetch" href="/index/assets/js/12.efc30772.js"><link rel="prefetch" href="/index/assets/js/13.0fb4045c.js"><link rel="prefetch" href="/index/assets/js/14.e1a8fc61.js"><link rel="prefetch" href="/index/assets/js/15.e2c47e9b.js"><link rel="prefetch" href="/index/assets/js/16.84ddb9b3.js"><link rel="prefetch" href="/index/assets/js/17.28a272b1.js"><link rel="prefetch" href="/index/assets/js/18.159d6c82.js"><link rel="prefetch" href="/index/assets/js/19.7cb29359.js"><link rel="prefetch" href="/index/assets/js/2.f640426f.js"><link rel="prefetch" href="/index/assets/js/20.958b3486.js"><link rel="prefetch" href="/index/assets/js/21.c0008dbc.js"><link rel="prefetch" href="/index/assets/js/22.3a84ca04.js"><link rel="prefetch" href="/index/assets/js/23.5921138e.js"><link rel="prefetch" href="/index/assets/js/24.c33e2445.js"><link rel="prefetch" href="/index/assets/js/25.b7280818.js"><link rel="prefetch" href="/index/assets/js/26.29409481.js"><link rel="prefetch" href="/index/assets/js/27.2e608d78.js"><link rel="prefetch" href="/index/assets/js/28.a6e39256.js"><link rel="prefetch" href="/index/assets/js/29.a0eeb6c2.js"><link rel="prefetch" href="/index/assets/js/30.4b251976.js"><link rel="prefetch" href="/index/assets/js/31.bf2a7f5d.js"><link rel="prefetch" href="/index/assets/js/32.03da61f5.js"><link rel="prefetch" href="/index/assets/js/33.12b1b222.js"><link rel="prefetch" href="/index/assets/js/34.4863790e.js"><link rel="prefetch" href="/index/assets/js/35.d9cb002e.js"><link rel="prefetch" href="/index/assets/js/36.32cd5cc0.js"><link rel="prefetch" href="/index/assets/js/37.658aece8.js"><link rel="prefetch" href="/index/assets/js/38.e97b9ebe.js"><link rel="prefetch" href="/index/assets/js/39.ce9aabc9.js"><link rel="prefetch" href="/index/assets/js/4.b28fbb04.js"><link rel="prefetch" href="/index/assets/js/40.9fe8550e.js"><link rel="prefetch" href="/index/assets/js/41.c927e06e.js"><link rel="prefetch" href="/index/assets/js/42.cc52b19f.js"><link rel="prefetch" href="/index/assets/js/43.aafc913b.js"><link rel="prefetch" href="/index/assets/js/44.665f5dc1.js"><link rel="prefetch" href="/index/assets/js/45.996e6e7b.js"><link rel="prefetch" href="/index/assets/js/46.e9783fe5.js"><link rel="prefetch" href="/index/assets/js/47.0d61feab.js"><link rel="prefetch" href="/index/assets/js/48.4ffdce64.js"><link rel="prefetch" href="/index/assets/js/49.5cbb9ccf.js"><link rel="prefetch" href="/index/assets/js/5.617e483c.js"><link rel="prefetch" href="/index/assets/js/50.bedbb097.js"><link rel="prefetch" href="/index/assets/js/51.f0dbfffc.js"><link rel="prefetch" href="/index/assets/js/52.73dd07c3.js"><link rel="prefetch" href="/index/assets/js/53.195b07fa.js"><link rel="prefetch" href="/index/assets/js/54.06b5b4c6.js"><link rel="prefetch" href="/index/assets/js/55.805c5424.js"><link rel="prefetch" href="/index/assets/js/56.78a67d01.js"><link rel="prefetch" href="/index/assets/js/57.a8dfe051.js"><link rel="prefetch" href="/index/assets/js/58.acac9c38.js"><link rel="prefetch" href="/index/assets/js/59.64640e48.js"><link rel="prefetch" href="/index/assets/js/60.5c1e89a8.js"><link rel="prefetch" href="/index/assets/js/61.a4d694c4.js"><link rel="prefetch" href="/index/assets/js/62.7fec771d.js"><link rel="prefetch" href="/index/assets/js/63.b406a2e3.js"><link rel="prefetch" href="/index/assets/js/64.4e64e829.js"><link rel="prefetch" href="/index/assets/js/65.0f36adc2.js"><link rel="prefetch" href="/index/assets/js/66.3ddfe175.js"><link rel="prefetch" href="/index/assets/js/67.0ee31d44.js"><link rel="prefetch" href="/index/assets/js/68.df5f6a50.js"><link rel="prefetch" href="/index/assets/js/69.ef1a20a1.js"><link rel="prefetch" href="/index/assets/js/7.74c3c48d.js"><link rel="prefetch" href="/index/assets/js/70.5d2c241e.js"><link rel="prefetch" href="/index/assets/js/71.53a85aed.js"><link rel="prefetch" href="/index/assets/js/72.bf96963b.js"><link rel="prefetch" href="/index/assets/js/73.cb67b0ea.js"><link rel="prefetch" href="/index/assets/js/8.14e82a3d.js"><link rel="prefetch" href="/index/assets/js/9.007e4c2a.js">
    <link rel="stylesheet" href="/index/assets/css/0.styles.8e715b3c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/index/" class="home-link router-link-active"><!----> <span class="site-name">Yankyao</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/index/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/index/about.html" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/index/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/index/about.html" class="nav-link">
  About
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>1.入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2.html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3.css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>4.js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/index/4.js/1.js基础.html" class="sidebar-link">1.js基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#hello-world" class="sidebar-link">Hello World</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#字面量" class="sidebar-link">字面量</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#js数据类型" class="sidebar-link">JS数据类型</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#数据类型的转换" class="sidebar-link">数据类型的转换</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#运算符" class="sidebar-link">运算符</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#运算符优先级" class="sidebar-link">运算符优先级</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#json" class="sidebar-link">JSON</a></li><li class="sidebar-sub-header"><a href="/index/4.js/1.js基础.html#js中的声明提升" class="sidebar-link">JS中的声明提升</a></li></ul></li><li><a href="/index/4.js/2.数组字符串.html" class="sidebar-link">2.数组字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/2.数组字符串.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/index/4.js/2.数组字符串.html#数组遍历" class="sidebar-link">数组遍历</a></li><li class="sidebar-sub-header"><a href="/index/4.js/2.数组字符串.html#数组操作方法" class="sidebar-link">数组操作方法</a></li><li class="sidebar-sub-header"><a href="/index/4.js/2.数组字符串.html#字符串常用方法" class="sidebar-link">字符串常用方法</a></li></ul></li><li><a href="/index/4.js/3.函数.html" class="sidebar-link">3.函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数的声明和调用" class="sidebar-link">函数的声明和调用</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数的参数" class="sidebar-link">函数的参数</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数的特点" class="sidebar-link">函数的特点</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#模块化编程" class="sidebar-link">模块化编程</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数递归" class="sidebar-link">函数递归</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数表达式" class="sidebar-link">函数表达式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数作用域" class="sidebar-link">函数作用域</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数重载" class="sidebar-link">函数重载</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#iife" class="sidebar-link">IIFE</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#函数的上下文" class="sidebar-link">函数的上下文</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#闭包closure" class="sidebar-link">闭包closure</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#高级函数-高阶函数" class="sidebar-link">高级函数/高阶函数</a></li><li class="sidebar-sub-header"><a href="/index/4.js/3.函数.html#thunk函数" class="sidebar-link">Thunk函数</a></li></ul></li><li><a href="/index/4.js/4.条件和循环.html" class="sidebar-link">4.条件和循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/4.条件和循环.html#条件分支语句" class="sidebar-link">条件分支语句</a></li><li class="sidebar-sub-header"><a href="/index/4.js/4.条件和循环.html#循环语句" class="sidebar-link">循环语句</a></li><li class="sidebar-sub-header"><a href="/index/4.js/4.条件和循环.html#组合用法" class="sidebar-link">组合用法</a></li></ul></li><li><a href="/index/4.js/5.正则.html" class="sidebar-link">5.正则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/5.正则.html#基础" class="sidebar-link">基础</a></li><li class="sidebar-sub-header"><a href="/index/4.js/5.正则.html#正则的术语和操作符" class="sidebar-link">正则的术语和操作符</a></li></ul></li><li><a href="/index/4.js/6.oop.html" aria-current="page" class="active sidebar-link">6.oop</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#原型" class="sidebar-link">原型</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#hasownproperty" class="sidebar-link">hasOwnProperty</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#用面向对象的思维来写程序" class="sidebar-link">用面向对象的思维来写程序</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#面向对象概述" class="sidebar-link">面向对象概述</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#内置构造函数" class="sidebar-link">内置构造函数</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#原型链深入" class="sidebar-link">原型链深入</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#constructor属性" class="sidebar-link">constructor属性</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#instanceof运算符" class="sidebar-link">instanceof运算符</a></li><li class="sidebar-sub-header"><a href="/index/4.js/6.oop.html#继承" class="sidebar-link">继承</a></li></ul></li><li><a href="/index/4.js/7.es67.html" class="sidebar-link">7.es67</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#es6" class="sidebar-link">es6</a></li><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#es7" class="sidebar-link">es7</a></li><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#es8" class="sidebar-link">es8</a></li><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#es2020" class="sidebar-link">es2020</a></li><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#模块机制" class="sidebar-link">模块机制</a></li><li class="sidebar-sub-header"><a href="/index/4.js/7.es67.html#类-class" class="sidebar-link">类（class）</a></li></ul></li><li><a href="/index/4.js/8.bom.html" class="sidebar-link">8.BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#常用方法" class="sidebar-link">常用方法</a></li><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#location对象" class="sidebar-link">location对象</a></li><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#navigator对象" class="sidebar-link">navigator对象</a></li><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#screen对象" class="sidebar-link">screen对象</a></li><li class="sidebar-sub-header"><a href="/index/4.js/8.bom.html#history对象" class="sidebar-link">history对象</a></li></ul></li><li><a href="/index/4.js/9.dom1.html" class="sidebar-link">9.DOM1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#获取元素" class="sidebar-link">获取元素</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#事件" class="sidebar-link">事件</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#计算后样式" class="sidebar-link">计算后样式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#快捷尺寸和位置" class="sidebar-link">快捷尺寸和位置</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#原生js方法操作dom节点" class="sidebar-link">原生JS方法操作DOM节点</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#事件监听-注意兼容" class="sidebar-link">事件监听（注意兼容）</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#事件对象event、阻止冒泡、阻止默认事件" class="sidebar-link">事件对象event、阻止冒泡、阻止默认事件</a></li><li class="sidebar-sub-header"><a href="/index/4.js/9.dom1.html#jquery中的dom节点操作" class="sidebar-link">jQuery中的DOM节点操作</a></li></ul></li><li><a href="/index/4.js/10.dom2.html" class="sidebar-link">10.DOM2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#鼠标位置" class="sidebar-link">鼠标位置</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#盒子位置" class="sidebar-link">盒子位置</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#拖拽" class="sidebar-link">拖拽</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#在父容器内拖拽" class="sidebar-link">在父容器内拖拽</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#京东商城放大镜" class="sidebar-link">京东商城放大镜</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#鼠标滚轮事件" class="sidebar-link">鼠标滚轮事件</a></li><li class="sidebar-sub-header"><a href="/index/4.js/10.dom2.html#窗口的宽度、高度" class="sidebar-link">窗口的宽度、高度</a></li></ul></li><li><a href="/index/4.js/11.jquery.html" class="sidebar-link">11.Jquery</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#对象" class="sidebar-link">$对象</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#选择器" class="sidebar-link">选择器</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#jquery的常用方法" class="sidebar-link">jQuery的常用方法</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#节点关系-选择器" class="sidebar-link">节点关系/选择器</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#jquery遍历dom" class="sidebar-link">jQuery遍历DOM</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#animate动画" class="sidebar-link">animate动画</a></li><li class="sidebar-sub-header"><a href="/index/4.js/11.jquery.html#常用方法" class="sidebar-link">常用方法</a></li></ul></li><li><a href="/index/4.js/12.设计模式.html" class="sidebar-link">12.设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#重要性" class="sidebar-link">重要性</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#单例模式" class="sidebar-link">单例模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#工厂模式" class="sidebar-link">工厂模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#观察者模式" class="sidebar-link">观察者模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#发布订阅模式" class="sidebar-link">发布订阅模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#代理模式" class="sidebar-link">代理模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#策略模式" class="sidebar-link">策略模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#命令模式" class="sidebar-link">命令模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#中介者模式" class="sidebar-link">中介者模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#装饰者模式" class="sidebar-link">装饰者模式</a></li><li class="sidebar-sub-header"><a href="/index/4.js/12.设计模式.html#责任链接模式" class="sidebar-link">责任链接模式</a></li></ul></li><li><a href="/index/4.js/13.其他.html" class="sidebar-link">13.其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#事件环event-loop" class="sidebar-link">事件环Event Loop</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#滚屏" class="sidebar-link">滚屏</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#常用js库" class="sidebar-link">常用JS库</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#抛出错误" class="sidebar-link">抛出错误</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#cookie和session" class="sidebar-link">Cookie和Session</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#隐式转换" class="sidebar-link">隐式转换</a></li><li class="sidebar-sub-header"><a href="/index/4.js/13.其他.html#语言增强" class="sidebar-link">语言增强</a></li></ul></li><li><a href="/index/4.js/14.ts.html" class="sidebar-link">14.TS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#类和静态方法" class="sidebar-link">类和静态方法</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#接口interface" class="sidebar-link">接口interface</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#范型" class="sidebar-link">范型</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#模块和命名空间" class="sidebar-link">模块和命名空间</a></li><li class="sidebar-sub-header"><a href="/index/4.js/14.ts.html#装饰器" class="sidebar-link">装饰器</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>5.前端框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6.前端工程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>7.前后端交互</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8.计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>9.面试相关</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_6-oop"><a href="#_6-oop" class="header-anchor">#</a> 6.oop</h1> <h2 id="构造函数"><a href="#构造函数" class="header-anchor">#</a> 构造函数</h2> <p><code>构造函数</code>本身是一个普通的函数；当使用new运算符来调用时，则可以被成为构造函数。</p> <p><strong>构造函数函数名首字母大写是约定俗成的规则，提醒别人这是一个构造函数。</strong></p> <p>new运算符调用函数会四步走(固定的顺序，要注意时需问题)：</p> <ol><li>在函数内部，创建一个局部变量，是一个空对象｛｝；</li> <li>函数将自己的上下文设置为这个空对象，即函数内部所有的this指向这个空对象；</li> <li>函数执行所有语句；</li> <li><strong>所有语句执行之后，函数将return这个对象；</strong></li></ol> <p>每new一次就会产生一个新的对象/实例（instance）；</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>new出来的是个对象：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> People<span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> student <span class="token comment">// 'object' </span>
</code></pre></div><p><strong>适用于对象(Object)的方法</strong></p> <ul><li>注意时序问题 :第四条,是执行完所有语句之后,才返回实例;下例执行console的时候,a还没有被返回,a身上没有m属性:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>m <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span>
<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>m<span class="token punctuation">)</span> <span class="token comment">// Cannot read property 'm' of undefined</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>构造函数本身是一个普通的函数，里面可以写任何语句；构造函数自带return功能；如果构造函数内部还有return语句，如果return的是基本类型值会被无视，如果return的是引用类型值，就返回这个return的值。</strong></p></div> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <p>构造函数可以添加属性，也可以添加方法。</p> <p>直接添加方法有两种方式，第一种,把方法写在构造函数里:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">PeoPle</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">',my age is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PeoPle</span><span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">)</span>
xiaoming<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>第二种把方法写在构造函数的原型(prototype)上(常用):</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">PeoPle</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
<span class="token punctuation">}</span>
<span class="token class-name">PeoPle</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">',my age is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PeoPle</span><span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">)</span>
xiaoming<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>原型链</code>：每一个构造函数都有一个prototype对象的属性。每一个new出来的实例的__proto__属性，也指向(等于)这个prototype对象。称People.prototype是People构造函数的&quot;原型&quot;，People.prototype是实例的&quot;原型对象&quot;。</p> <h2 id="hasownproperty"><a href="#hasownproperty" class="header-anchor">#</a> hasOwnProperty</h2> <p><strong>hasownproperty可以判断实例的一个属性是定义在构造函数内(true),还是继承自原型链(false);</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>xiaoming<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true;</span>
xiaoming<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'sayHello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false;</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>goo<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span>

foo<span class="token punctuation">.</span>bar <span class="token operator">===</span> <span class="token number">1</span> <span class="token comment">// true</span>
<span class="token string">'bar'</span> <span class="token keyword">in</span> foo <span class="token comment">// true</span>

foo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
foo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'goo'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="用面向对象的思维来写程序"><a href="#用面向对象的思维来写程序" class="header-anchor">#</a> 用面向对象的思维来写程序</h2> <ul><li>自治;</li> <li>解耦合;</li> <li>封装；</li></ul> <p><code>面向对象</code>，就是将结构、功能一样的模块进行封装。</p> <p>所以遇见大量的结构、功能、性质的对象时(<strong>但可以有不同的状态</strong>)，就可以使用面向对象编程风格。</p> <p>面向对象的时候怎么编程：</p> <ol><li>思考程序中有哪些类，在前期我们的业务仅仅有一个类，后期类会有多个；</li> <li>想想每个类有哪些属性和方法，就是他们自己的能力是什么；</li> <li>想想每个类之间如何通信、交换数据，此时优秀的设计模式能够助你一臂之力，比如中介者模式、发布订阅模式（观察者模式）；</li> <li>这个类怎么进行单元测试，如何测试自己这个类；</li></ol> <h2 id="面向对象概述"><a href="#面向对象概述" class="header-anchor">#</a> 面向对象概述</h2> <p><strong>面向对象有三大基本特性，和五大基本原则;</strong></p> <p>三大特性是：封装,继承,多态</p> <ul><li><p><code>封装</code>，一个类就是一个封装了数据以及操作这些数据的代码的逻辑实体。在一个对象内部，某些代码或某些数据可以是私有的，不能被外界访问。通过这种方式，对象对内部数据提供了不同级别的保护，以防止程序中无关的部分意外的改变或错误的使用了对象的私有部分。（解耦合的过程）</p></li> <li><p><code>继承</code>，是指可以让某个类型的对象获得另一个类型的对象的属性的方法。继承是指这样一种能力：<strong>它可以使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展</strong>。 通过继承创建的新类称为&quot;子类&quot;或&quot;派生类&quot;，被继承的类称为&quot;基类&quot;、&quot;父类&quot;或&quot;超类&quot;。继承的过程，就是从一般到特殊的过程。要实现继承，可以通过&quot;继承&quot;（Inheritance）和&quot;组合&quot;（Composition）来实现。继承概念的实现方式有二类：实现继承与接口继承。</p></li> <li><ul><li>实现继承是指直接使用基类的属性和方法而无需额外编码的能力；</li></ul></li> <li><ul><li>接口继承是指仅使用属性和方法的名称、但是子类必须提供实现的能力；</li></ul></li> <li><p><code>多态</code>，指一个类实例的相同方法在不同情形有不同表现形式。多态机制使具有不同内部结构的对象可以共享相同的外部接口。这意味着，虽然针对不同对象的具体操作不同，但通过一个公共的类，它们（那些操作）可以通过相同的方式予以调用。</p></li></ul> <p>六大基本原则：</p> <ul><li><p><code>单一职责原则</code>SRP(Single Responsibility Principle)是指一个类的功能要单一。</p></li> <li><p><code>开放封闭原则</code>OCP(Open－Close Principle) 一个模块在扩展性方面应该是开放的而在更改性方面应该是封闭的。</p></li> <li><p><code>里氏替换原则</code>(the Liskov Substitution Principle LSP) 子类应当可以替换父类并出现在父类能够出现的任何地方。</p></li> <li><p><code>依赖倒置原则</code>(the Dependency Inversion Principle DIP)具体依赖抽象，上层依赖下层。</p></li> <li><p><code>接口分离原则</code>(the Interface Segregation Principle ISP) 模块间要通过抽象接口隔离开，而不是通过具体的类强耦合起来。</p></li> <li><p><code>多用组合(has-a)，少用继承(is-a)</code>。如果新对象的某些功能在别的已经创建好的对象里面已经实现，那么应当尽量使用别的对象提供的功能，使之成为新对象的一部分，而不要再重新创建。可以降低类与类之间的耦合程度。</p></li></ul> <h2 id="内置构造函数"><a href="#内置构造函数" class="header-anchor">#</a> 内置构造函数</h2> <p>可以自己封装构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
xiaoming<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">People</span><span class="token punctuation">.</span>prototype
</code></pre></div><p>js也内置了很多的构造函数，他们也叫作我们的基本类型值、引用类型值的&quot;包装类&quot;。</p> <ul><li>Object:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
obj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// {a: 1, b: 2}</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><p><strong>Object.prototype是所有对象的__proto__原型链终点。</strong></p> <img src="/index/assets/img/3.6.1.7b86edc7.png" width="300" style="margin:0 auto;"> <ul><li>Function函数，系统内置了一个Function的构造函数，用于构造函数。所有的function字面量，都是他的实例。<strong>在new Function的时候，先罗列所有的形参列表，最后一个参数是函数里面的语句。参数都是字符串。</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token operator">+</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'console.log(a + b)'</span><span class="token punctuation">)</span>
sum<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype  <span class="token comment">// true</span>
</code></pre></div><img src="/index/assets/img/3.6.2.bc55d575.png" width="400" style="margin:0 auto;"> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>任何函数都是Function的实例，Object也是Function的实例，Function自己也是自己的实例！Function自己new出了自己：</p> <div class="language-js extra-class"><pre class="language-js"><code>Object <span class="token keyword">instanceof</span> <span class="token class-name">Function</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
</code></pre></div><p>任何一个对象都有原型对象，原型链的终点是Object.prototype。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__   <span class="token comment">// null</span>
</code></pre></div></div> <p>Function和Object的关系：</p> <img src="/index/assets/img/3.6.3.659d5827.png" width="500" style="margin:0 auto;"> <ul><li>Array函数是系统内置的数组构造函数，用于构造数组。常用的数组方法，都是定义在Array.prototype上的。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">101</span>
<span class="token comment">// 等价于</span>
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span>
<span class="token comment">// 数组有长度，但是每一项是空。</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// 空数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 5</span>
</code></pre></div><p>写一个函数，接受两个参数：数字n和字符串str，函数将返回重复n次的str。用一句话来实现。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">+=</span>str
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>不要使用Number、String、Boolean三个内置构造函数来生成基本类型值，因为他们实例化出来的是一个对象</strong>，都可以通过if校验：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span> <span class="token comment">// object</span>
<span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bool<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'虽然是false，但是通过了校验'</span><span class="token punctuation">)</span> <span class="token comment">// 输出此句</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="原型链深入"><a href="#原型链深入" class="header-anchor">#</a> 原型链深入</h2> <p>__proto__属性，W3C是没有规定一个元素的原型链有一个可见的属性。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>一开始Chrome浏览器特有的__proto__属性，其他浏览器有原型链的机制。只不过Chrome浏览器为了我们初学者学习方便，增加了这个属性。
Chrome中，__proto__是可以自由更改的，而这根本不是语言的规范，其他浏览器没有实现。也就是说，这个__proto__属性在其他浏览器中，在语言规范中根本就是看不见的，就没有这个属性。</p></div> <p>原型链的获得有两种情况：</p> <ul><li>引用类型值的对象他们的字面量的__proto__就是他们类型的构造函数的prototype；</li> <li>通过new关键字，此时构造函数的prototype就是实例的__proto__。</li></ul> <blockquote><p>ECMAScript2016中，提供了Object.create()函数，可以让我们指定一个对象为原型对象，来创建新对象。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token comment">// {}</span>
obj2<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> obj1 <span class="token comment">// true</span>
</code></pre></div><p><strong>手写create方法，需要一个临时的构造函数来中转：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 构造一个函数</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在Chrome中，可以修改__proto__，改变一个对象的原型对象。对象实例的toString方法都是定义在Object.prototype上的，而这个对象是所有对象的原型链终点，所以任何对象都能调用toString()方法。但是切断原型链之后就不行了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 强行删除原型链</span>
obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>事实上，语言设计中，当对象一旦创建，原型链一旦确定，此时就没有任何方法删除、改变对象的原型链。Chrome中的__proto__仅仅供研究、学习使用。</p></div> <h2 id="constructor属性"><a href="#constructor属性" class="header-anchor">#</a> constructor属性</h2> <p>任何一个构造函数的prototype身上都有一个constructor属性，指向构造函数。通过原型链找到的第一个带有prototype属性的构造函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xiaoming<span class="token punctuation">.</span>constructor <span class="token operator">===</span> People<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> People<span class="token punctuation">;</span> <span class="token comment">// true</span>
xiaoming<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> People <span class="token comment">// true</span>
</code></pre></div><img src="/index/assets/img/3.6.4.313547e8.png" width="500"> <blockquote><p>constructor属性比较脆弱，当我们修改原型链对象比如People.prototype.haha = function()此时没有任何问题。但是如果用字面量强行更改了prototype，此时xiaoming的constructor就改变了。</p></blockquote> <p>可以认为obj是这个构造函数的实例，但是也不一定：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'haha'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'haha'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'xixi'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'xixi'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">)</span>
xiaoming<span class="token punctuation">.</span><span class="token function">haha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// xiaominghaha</span>
xiaoming<span class="token punctuation">.</span><span class="token function">xixi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// xiaomingxixi</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// Object</span>
</code></pre></div><img src="/index/assets/img/3.6.5.7925856e.png" width="500"> <h2 id="instanceof运算符"><a href="#instanceof运算符" class="header-anchor">#</a> instanceof运算符</h2> <p>用来判断是不是某一个构造函数的实例，比constructor要稳定可靠。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">nae</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming <span class="token keyword">instanceof</span> <span class="token class-name">People</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 比constructor要稳定可靠。</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming <span class="token keyword">instanceof</span> <span class="token class-name">People</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><blockquote><p>本质：如果函数的prototype在对象的原型链上，此时返回true；反之返回false。换句话说：如果对象的原型链上，恰好由某一个元素是函数的prototype，此时返回true；反之返回false。因为Object.prototype是所有人的原型链终点，所以任何对象都是Object的实例。</p></blockquote> <h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <p>使用JavaScript来实现这样的两个类：People类、Student类。要求是People拥有的所有属性和方法，Student类的实例都能打点调用。Student还要能丰富自己的类的属性和方法。此时很简单，只需要巧妙设计原型链：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* 1 */</span>
<span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">shuohua</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> banji<span class="token punctuation">,</span> xuehao</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">People</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>banji <span class="token operator">=</span> banji<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>xuehao <span class="token operator">=</span> xuehao<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 更改学生的prototype，实现继承的核心语句</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 上面这一句构造器属性被覆盖</span>
<span class="token comment">// constructor可以看成是prototype的一个键值对，但是不可枚举，可以在控制台中输出查看</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span>
<span class="token comment">// 私有方法放后面，以免被覆盖</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">xuexi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xuexizhong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token string">'三年一班'</span><span class="token punctuation">,</span> <span class="token number">10086</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
xiaoming<span class="token punctuation">.</span><span class="token function">shuohua</span><span class="token punctuation">(</span><span class="token string">'你好'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xiaoming<span class="token punctuation">.</span><span class="token function">xuexi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 2 */</span>
<span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi, 我的名字是'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Manong</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">People</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Manong</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Manong</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Manong<span class="token punctuation">;</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Manong</span><span class="token punctuation">(</span><span class="token string">'zzzz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 3 */</span>
<span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi, 我的名字是'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Manong</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">People</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 3-基本上等于Object.create */</span>
<span class="token keyword">function</span> <span class="token function">myCreate</span><span class="token punctuation">(</span><span class="token parameter">proto</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">Fun</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> proto<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Manong</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token function">myCreate</span><span class="token punctuation">(</span><span class="token class-name">People</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Manong</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Manong<span class="token punctuation">;</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Manong</span><span class="token punctuation">(</span><span class="token string">'zzzz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 4 */</span>
<span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi, 我的名字是'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Manong</span> <span class="token keyword">extends</span> <span class="token class-name">People</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Manong</span><span class="token punctuation">(</span><span class="token string">'zzzz'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/index/4.js/5.正则.html" class="prev">
        5.正则
      </a></span> <span class="next"><a href="/index/4.js/7.es67.html">
        7.es67
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/index/assets/js/app.616a5d86.js" defer></script><script src="/index/assets/js/3.1c123f76.js" defer></script><script src="/index/assets/js/6.63039d09.js" defer></script>
  </body>
</html>
